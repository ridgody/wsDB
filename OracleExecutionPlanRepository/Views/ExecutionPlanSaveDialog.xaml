<Window x:Class="wsDB.OracleExecutionPlanRepository.Views.ExecutionPlanSaveDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="실행계획 저장" Height="500" Width="600"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize"
        ShowInTaskbar="False">
    
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- 제목 -->
        <TextBlock Grid.Row="0" 
                   Text="실행계획 분석 정보를 저장합니다." 
                   FontSize="14" 
                   FontWeight="Bold"
                   Margin="0,0,0,10"/>
        
        <!-- 입력 폼 -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="100"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- SQL ID -->
                <Label Grid.Row="0" Grid.Column="0" Content="SQL ID:" VerticalAlignment="Top"/>
                <TextBox Grid.Row="0" Grid.Column="1" 
                         x:Name="SqlIdTextBox"
                         Text="{Binding SqlId, UpdateSourceTrigger=PropertyChanged}"
                         Height="25" Margin="0,0,0,5"/>
                
                <!-- 실행 위치 -->
                <Label Grid.Row="1" Grid.Column="0" Content="실행 위치:" VerticalAlignment="Top"/>
                <TextBox Grid.Row="1" Grid.Column="1" 
                         x:Name="ExecutionLocationTextBox"
                         Text="{Binding ExecutionLocation, UpdateSourceTrigger=PropertyChanged}"
                         Height="25" Margin="0,0,0,5"
                         ToolTip="예: sendsms.getHomeServiceSmsList"/>
                
                <!-- 쿼리 -->
                <Label Grid.Row="2" Grid.Column="0" Content="쿼리:" VerticalAlignment="Top"/>
                <TextBox Grid.Row="2" Grid.Column="1" 
                         x:Name="QueryTextBox"
                         Text="{Binding Query, UpdateSourceTrigger=PropertyChanged}"
                         Height="80" 
                         TextWrapping="Wrap"
                         AcceptsReturn="True"
                         VerticalScrollBarVisibility="Auto"
                         FontFamily="Consolas"
                         FontSize="10"
                         Margin="0,0,0,5"/>
                
                <!-- 바인드 변수 -->
                <Label Grid.Row="3" Grid.Column="0" Content="바인드 변수:" VerticalAlignment="Top"/>
                <TextBox Grid.Row="3" Grid.Column="1" 
                         x:Name="BindVariablesTextBox"
                         Text="{Binding BindVariables, UpdateSourceTrigger=PropertyChanged}"
                         Height="60" 
                         TextWrapping="Wrap"
                         AcceptsReturn="True"
                         VerticalScrollBarVisibility="Auto"
                         FontFamily="Consolas"
                         FontSize="10"
                         Margin="0,0,0,5"/>
                
                <!-- 실행계획 -->
                <Label Grid.Row="4" Grid.Column="0" Content="실행계획:" VerticalAlignment="Top"/>
                <TextBox Grid.Row="4" Grid.Column="1" 
                         x:Name="ExecutionPlanTextBox"
                         Text="{Binding ExecutionPlan, UpdateSourceTrigger=PropertyChanged}"
                         Height="100" 
                         TextWrapping="Wrap"
                         AcceptsReturn="True"
                         VerticalScrollBarVisibility="Auto"
                         FontFamily="Consolas"
                         FontSize="10"
                         Margin="0,0,0,5"/>
                
                <!-- 분석 정보 -->
                <Label Grid.Row="5" Grid.Column="0" Content="분석 정보:" VerticalAlignment="Top"/>
                <TextBox Grid.Row="5" Grid.Column="1" 
                         x:Name="AnalysisInfoTextBox"
                         Text="{Binding AnalysisInfo, UpdateSourceTrigger=PropertyChanged}"
                         Height="80" 
                         TextWrapping="Wrap"
                         AcceptsReturn="True"
                         VerticalScrollBarVisibility="Auto"
                         FontFamily="Consolas"
                         FontSize="10"
                         Margin="0,0,0,5"/>
                
                <!-- 메모 -->
                <Label Grid.Row="6" Grid.Column="0" Content="메모:" VerticalAlignment="Top"/>
                <TextBox Grid.Row="6" Grid.Column="1" 
                         x:Name="NotesTextBox"
                         Text="{Binding Notes, UpdateSourceTrigger=PropertyChanged}"
                         Height="60" 
                         TextWrapping="Wrap"
                         AcceptsReturn="True"
                         VerticalScrollBarVisibility="Auto"
                         Margin="0,0,0,5"/>
                
                <!-- 저장 옵션 -->
                <Label Grid.Row="7" Grid.Column="0" Content="저장 옵션:" VerticalAlignment="Top"/>
                <StackPanel Grid.Row="7" Grid.Column="1" Orientation="Vertical" Margin="0,0,0,5">
                    <CheckBox x:Name="SaveToDbCheckBox" Content="데이터베이스에 저장" IsChecked="True" Margin="0,2"/>
                    <CheckBox x:Name="SaveToFileCheckBox" Content="텍스트 파일로도 저장" IsChecked="False" Margin="0,2"/>
                </StackPanel>
            </Grid>
        </ScrollViewer>
        
        <!-- 버튼 -->
        <StackPanel Grid.Row="2" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right" 
                    Margin="0,10,0,0">
            <Button x:Name="SaveButton" 
                    Content="저장" 
                    Width="80" 
                    Height="30" 
                    Margin="0,0,10,0"
                    IsDefault="True"
                    Click="SaveButton_Click"/>
            <Button x:Name="CancelButton" 
                    Content="취소" 
                    Width="80" 
                    Height="30"
                    IsCancel="True"
                    Click="CancelButton_Click"/>
        </StackPanel>
    </Grid>
</Window>